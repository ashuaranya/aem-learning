<sly data-sly-use.carouselModel="com.adobe.aem.guides.wknd.core.models.CarouselComponentModel" />

<!-- Display configuration message if no items exist -->
<div data-sly-test="${carouselModel.textFieldItems.size == 0}" class="min-height-200" role="region" aria-label="Text Carousel">
    <p>Configure Carousel</p>
</div>

<!-- Editable mode: Display items in authoring environment -->
<div data-sly-test="${carouselModel.textFieldItems.size > 0 && wcmmode.edit}" style="min-height: 200px">
    <sly data-sly-list.item="${carouselModel.textFieldItems}">
        <div style="min-height:100px">
            <sly data-sly-resource="${@path=item.index, resourceType=item.itemPath}"></sly>
        </div>
    </sly>
</div>

<!-- Carousel for viewing mode -->
<div data-sly-test="${!wcmmode.edit}" class="swiper-container" id="responsive-carousel"
    role="region" aria-roledescription="carousel" aria-label="Text Content Carousel" tabindex="0"
    space-between="10" keyboard="true" pagination="${carouselModel.hideShowPagination ? '1' : '0'}" 
    pagination-clickable="true" 
    slides-per-view="${carouselModel.numberOfSlides == 'none' ? 1 : carouselModel.numberOfSlides}"
    initial-slide="${carouselModel.activeSlide > carouselModel.textFieldItems.size ? 0 : carouselModel.activeSlide}"
    enable-peekaboo="${carouselModel.enablePeekaboo ? '1' : '0'}" 
    hide-show-buttons="${carouselModel.hideShowButtons ? '1' : '0'}"
    aria-live="polite">

    <div class="swiper responsive-carousel-${carouselModel.id}">
        <div class="swiper-wrapper">
            <div class="swiper-slide" 
                data-sly-repeat.item="${carouselModel.textFieldItems}"
                role="group"
                aria-roledescription="slide"
                tabindex="0">
                <sly data-sly-resource="${@path=item.index, resourceType=item.itemPath}"></sly>
            </div>
        </div>
    </div>

    <!-- Navigation controls with ARIA labels -->
    <div class="slide-footer">
        <div class="nav-controls" data-sly-test="${!carouselModel.hideShowButtons}">
            <div class="swiper-button-prev" aria-label="Previous slide" tabindex="0"></div>
            <div class="swiper-button-next" aria-label="Next slide" tabindex="0"></div>
        </div>
        <div class="swiper-pagination" aria-label="Carousel pagination" tabindex="0"></div>
    </div>
</div>
